

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Davis Instrumented Bicycle &mdash; Human Control of a Bicycle: Jason K. Moore</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Human Control of a Bicycle: Jason K. Moore" href="index.html" />
    <link rel="next" title="Control" href="control.html" />
    <link rel="prev" title="Motion Capture" href="motioncapture.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Human Control of a Bicycle: Jason K. Moore</span></a></h1>
        <h2 class="heading"><span>Davis Instrumented Bicycle</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="motioncapture.html">Motion Capture</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="control.html">Control</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        

  <div class="section" id="davis-instrumented-bicycle">
<span id="davisbicycle"></span><h1>Davis Instrumented Bicycle<a class="headerlink" href="#davis-instrumented-bicycle" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bicycle-frame">
<h2>Bicycle frame<a class="headerlink" href="#bicycle-frame" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="steer-torque">
<h2>Steer Torque<a class="headerlink" href="#steer-torque" title="Permalink to this headline">¶</a></h2>
<div class="section" id="literature-review">
<h3>Literature Review<a class="headerlink" href="#literature-review" title="Permalink to this headline">¶</a></h3>
<p>There are very few published studies that measure or attempt to measure steer
torque on a bicycle or lightweight single track vehicle. There are a more
analytical studies that attempt to predict steer torques. The following lists
some that I have read.</p>
<div class="section" id="steer-torque-from-models">
<h4>Steer torque from models<a class="headerlink" href="#steer-torque-from-models" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>[Limebeer2006]</dt>
<dd>Limebeer and Sharp show a graph of steer torque for the benchmark bicycle model
on page 47 for step inputs of steer torque that range from -0.5 to 2.5 Nm for
extreme roll and steer angles.</dd>
<dt>[Sharp2007]</dt>
<dd>Robin Sharp uses a multi-degree of freedom motorcycle model and an LQR
controller with preview to control a motorcycle moving at 30 m/s through a 4
meter lane change and a 250 meter S-turn. For the lane change he gets torques
ranging from about -20 Nm to 55 Nm for a more aggressive control and -4 to 6 Nm
for less aggressive control. The S-turn gives torques from -40 Nm to 70 Nm with
a sharp peak in torque in the middle of the S-turn.</dd>
<dt>[Sharp2007a]</dt>
<dd>Robin Sharp uses the benchmark bicycle model and an LQR controller with preview
to follow a randomly generated path that has about 2 meter lateral deviations.
The bicycle is traveling at 10 m/s and the steer torque ranges from about -15
to 15 Nm. Medium control reduces the torques to under +/- 10 Nm. Straight line
to circle path maneuvers show torques ranging from -0.5 to 0.5 Nm for loose
controls and -2.5 to 2.5 for medium controls.</dd>
<dt>[Sharp2008a]</dt>
<dd>Robin Sharp used the benchmark bicycle model and an LQR controller with preview
to make a bicycle track a 4 meter lane change at 6 m/s. During this manuever,
the steer toque ranged from about -1 to 1 Nm. He also showed a very fine steer
torque variation in the range of 0 to 0.0025 Nm about 10 meters before the
start of the lane change.</dd>
<dt>[Peterson2009]</dt>
<dd>Peterson and Hubbard show the steady turning required steering torques for the
benchmark bicycle on page 7. The torques for lean angles from 0 to 10 degrees
and steer from 0 to 45 degrees are under 3 Nm.</dd>
</dl>
</div>
<div class="section" id="steer-torque-from-experiments">
<h4>Steer Torque From Experiments<a class="headerlink" href="#steer-torque-from-experiments" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>[Cain2010]</dt>
<dd>Stephen Cain built an instrumented bicycle with a steer torque measuring device
and studied steady turns.</dd>
<dt>[Weir1979a]</dt>
<dd><p class="first">Weir et al. designed an instrumented motorcycle with a torque sensor. The range
was +/- 70 Nm with 1% accuracy and&gt;10 Hz dynamic range. The crosstalk due to
the other moments on the steer were removed with by utilizing two thrust
bearings. It included stops to prevent sensor overload protection and weighed
14 Newtons. They comment that the handlebars are significantly rigid for their
purposes. It was a modular design set up for multiple motorcycles. They
comment on the range being too large for small amplitude inputs used in
steady turning and straight running and that more sensitivity would be
needed to measure these accurately. Weir used this to measure steer torques
for two motorcycles at various speeds (&gt;10 m/s) for steady turning and lane
change maneuvers. The steady turning produced torques in the range of -10 to
30 Nm and the lane change produced -20 to 55 Nm.</p>
<div class="admonition-todo last admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last"><a class="reference external" href="http://biosport.ucdavis.edu/research-projects/bicycle/instrumented-bicycle/steer-torque-measurement/weirSteerTorque.png">http://biosport.ucdavis.edu/research-projects/bicycle/instrumented-bicycle/steer-torque-measurement/weirSteerTorque.png</a></p>
</div>
</dd>
<dt>[Lorenzo1997]</dt>
<dd>David de Lorenzo instrumeted a bike to measure pedal forces, handlebar forces,
hub forces to measure the in-plane structural loads. He took the bike to the
trails and had 7 riders do a downhill section. The hand reactions were measured
with a handlerbar sensitive to x (pointing forward and parallel to the ground)
and z (pointing upwards, perpendicular to the ground) axis forces on both the
left and right sides of the handlebar. Net torque about any vector in the fork
plane of symmetry can be calculated from these. Figure 3d shows a plot of
steering torque with maximums around 7 Nm. The stem extension torque
(representing the torque from pushin down and up on the handlebars) reaches 15
Nm. The calibration information leads me to believe that the crosstalk from the
all of the forces and moments on the handlebars gives a very low accuracy for
the reported torques, probably in the +/- 1 to 3 Nm range.</dd>
<dt>[Biral2003]</dt>
<dd><p class="first">Biral et al. designed a custom steer torque measurement system using a
cantilever beam. They don&#8217;t specifically discuss the cross talk, but do mention
that they use a half-bridge strain gauge. This design seems that it could be
susceptible to cross talk from the forces applied to the handlebars by the
rider. But they also report experimental values for torque that match model
predictions very well. The measure torques from -20 to 20 Nm for a slalom
maneuver at 13 m/s.</p>
<div class="admonition-todo last admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Biral&#8217;s Steer Torque Design</p>
</div>
</dd>
<dt>[Astrom2005]</dt>
<dd><p class="first">Åström et al. shows a steer torque measurement system constructed for the UCSB
instrumented bicycle but with little extra information. They use a linear force
transducer of some sort mounted on the handlebars.</p>
<div class="admonition-todo last admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">UCSB Steer Torque Measurement</p>
</div>
</dd>
<dt>[Cheng2003]</dt>
<dd>This is a report about a design project at UCSB to develop and implement a
steer torque measurement device (same one shown the Åström paper). He gives a
pretty bad anedoctal introduction to bicycle dynamics, but the experiments and
measurements seem to be one of a kind. They did some basic experiments by
attaching a torque wrench to a bicycle and made left at right turns at speeds
from 0 to 13 m/s (0 to 30mph). The torques were under 5Nm except for the 13 m/s
trial which read about 20 Nm. They designed a pretty nice compac torque
measurement setup by mounting the handlebars on bearings and using a linear
force transducer to connect the handlbars to the steer tube which reduced the
effects of other moments and forces acting on the steer tube. The use of
bearings and rodends may be questionable as there is bearing friction and slop.
Furthermore, downward forces on the handlebars could possibly still be
transmitted to the load cell. The design does allow one to choose the lever arm
for the load cell, thus giving some choice to amplify the force signal. They
set it up to measure from 0 to 84 Nm with a Model SM Series S-type load cell
from Interface with a 670 Newton range. They used a transducer amplifier also
for signal conditioning. There are several sections on calibration, with some
description of the use of pulleys and cables to apply a torque to the
handlebars. They measured the torque during two different manuever types: a
sharp turn at various angles and steady turns on various diameter circles both
at 10mph (4.5 meters/second). The rider maintained constant speed through
visual feedback of a speedometer. He talks of very noisy measurements and
filters the noise by some type of moving average. He does not identify an
countersteering. He claims the rider turns the handle bars right to initiate a
right turn. There seems to be no counter-torque in the data for turns. For the
sharp turns the highest reported torque is about 10 Nm, for the steady turning
he reports the highest average torque as 1 Nm.</dd>
</dl>
</div>
</div>
<div class="section" id="design">
<h3>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h3>
<div class="section" id="initial-design-ideas">
<h4>Initial Design Ideas<a class="headerlink" href="#initial-design-ideas" title="Permalink to this headline">¶</a></h4>
<p>We are planning on measuring the steer torque the rider applies to control a
bicycle. This will be used for human control model identification and for use
in the necessary feedback loops required control the riderless bicycle.
Measuring the steer torque is not trivial. This is because various models
predict torques ranging in the 0-2 Nm (0-1.5 ft lbs) range with signal
variations and reversals requiring +/- 0.01 Nm (0.01 ft lbs) in measurement
accuracy. The range and accuracy are easily measured with modern torque
sensors, but the fact that large moments can be applied to the fork and
handlebars by the ground and/or rider introduces the problem of crosstalk. The
forces and moments applied to the fork will corrupt the relatively small torque
measurements as they can be hundreds of times larger in magnitude. With this in
mind, we are trying to come up with a way to isolate the torque measurement to
eliminate or minimize the crosstalk and get good, noiseless, accurate readings.
The following are some basic designs we are working with:</p>
<dl class="docutils">
<dt>Åström Design</dt>
<dd><p class="first">This is a sketch of what was designed for the UCSB instrumented bicycle and
presented in a <cite>2005 paper by Karl Åström et al</cite>.
It uses an off-the-shelf axial load cell mounted between a floating handlebar
and a bar extending from the steer tube. This seems to be a good design, but
it would be nice to eliminate the handlebar bearings and the rod ends.</p>
<div class="admonition-todo last admonition" id="index-3">
<p class="first admonition-title">Todo</p>
<p class="last">Astrom Design</p>
</div>
</dd>
<dt>Landman Design</dt>
<dd>My professor, <a class="reference external" href="http://eng.odu.edu/aerospace/aefaculty/dlandman.shtml">Drew Landman</a> , from Virginia who I
worked with designed force balances for wind tunnel testing at the <a class="reference external" href="http://www.nasa.gov/vision/earth/improvingflight/fst_overview.html">LFST</a>
suggested a <cite>redesign that eliminates the bearings and replaces them with
flexures</cite> .</dd>
<dt>Weir Design</dt>
<dd><p class="first">David Weir designed a motorcycle steer torque measurement system in his <cite>1979
technical repor</cite> t that also floats the handlebars
on bearings but uses an off-the-shelf torque sensor instead. The sketch shows
the basic concept. The handlebars are floating on bearings and the torque
sensor connects the handlebars to the steer tube. He claimed that the design
lacked low range resolution. Motorcycles can experience torques that are as
high as 50 Nm according to some models.</p>
<div class="admonition-todo last admonition" id="index-4">
<p class="first admonition-title">Todo</p>
<p class="last">Weir Design</p>
</div>
</dd>
<dt>Internal Stem Design</dt>
<dd><p class="first">This is a design that we came up with when preparing our abstract on the topic.
It is fundamentally the same as the Åström design but includes flexure elements
instead of rod ends and is a bit smaller in scale.</p>
<div class="admonition-todo admonition" id="index-5">
<p class="first admonition-title">Todo</p>
<p class="last">Internal Stem Design</p>
</div>
<div class="admonition-todo last admonition" id="index-6">
<p class="first admonition-title">Todo</p>
<p class="last">steerTorque.png</p>
</div>
</dd>
<dt>Double Steer Design</dt>
<dd><p class="first">This design separates the handlebar and stem&#8217;s rotation axis from the steer
tube and fork&#8217;s rotation axis much the way many long wheel base recumbents or
bakfiets are designed. The load cell is then place on the connecting rod. This
design is is prone to slop in the steer mechanism.</p>
<blockquote class="last">
<div><div class="admonition-todo admonition" id="index-7">
<p class="first admonition-title">Todo</p>
<p class="last">Double Steer Design</p>
</div>
</div></blockquote>
</dd>
<dt>Bearing-less design</dt>
<dd><p class="first">Luke came up with this design and was able to eliminate the need for bearings.
Two arms are clamped to the steer tube and a load cell is placed between the
arms. The difference in this is that not all of the torque is transferred
through the load cell, but maybe enough is that we can measure it.</p>
<div class="admonition-todo last admonition" id="index-8">
<p class="first admonition-title">Todo</p>
<p class="last">Bearing-less Design</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="forces-on-the-steer-tube">
<h4>Forces on the steer tube<a class="headerlink" href="#forces-on-the-steer-tube" title="Permalink to this headline">¶</a></h4>
<p>Ideally, we&#8217;d like to slap a strain gauge on the steer tube to measure the
shear strain and get a good torque reading but this isn&#8217;t so easily done. The
bicycle steer tube has various other forces acting on it. For the most basic
case a the ground contact force at the front wheel puts the fork into bending
and compression. Likewise the person can apply forces to the handlbars which
also put the steer tube into bending and compression. It turns out that the
moments in the steer tube can be as high as 200 times the steer torques we are
trying to measure.</p>
<div class="admonition-todo admonition" id="index-9">
<p class="first admonition-title">Todo</p>
<p class="last">Basic Bicycle Forces</p>
</div>
<p>There are ways to apply strain gauges to a bar in torsion that would
theorectically cancel all of the axial and bending strain components. Both
bending moments and axial forces only create strain in the axial direction and
shear and torsion create strain in the direction normal to axial. The following
comes from Beckwith and Margoni&#8217;s Mechanical Measurements and shows two
possible strain gage bridge configurations that can reduce or eliminate strains
not due to torsion.</p>
<div class="admonition-todo admonition" id="index-10">
<p class="first admonition-title">Todo</p>
<p class="last">Strain Bridge Configuration for Torsion</p>
</div>
<p>L seems to be a good choice for the steer torque measurement, but in reality it
is impossible to align strain gages perfectly. This can introduce
cross-sensitivity or cross talk. If the cross talk strains due to the bending
moments are only 1% of the of the total strain due to the moments, that can
still corrupt the steer torque measurement. With this in mind we decided to
look into what the forces in the steer tube actually look like.</p>
<p>We modeled the fork as a basic beam supported by the headset bearings (points
C and D) and the forces/moments due to the ground reaction force and force
applied to the handlebars were calculated.</p>
<div class="admonition-todo admonition" id="index-11">
<p class="first admonition-title">Todo</p>
<p class="last">Fork Modeled as a Beam</p>
</div>
<p>The following graphs show what the shear and bending moment diagrams for
various loadings look like both from the side and the front of the bike.</p>
<div class="admonition-todo admonition" id="index-12">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram01.png</p>
</div>
<div class="admonition-todo admonition" id="index-13">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram02.png</p>
</div>
<div class="admonition-todo admonition" id="index-14">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram03.png</p>
</div>
<div class="admonition-todo admonition" id="index-15">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram04.png</p>
</div>
<div class="admonition-todo admonition" id="index-16">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram05.png</p>
</div>
<div class="admonition-todo admonition" id="index-17">
<p class="first admonition-title">Todo</p>
<p class="last">mvdiagram06.png</p>
</div>
<p>These graphs show that the bending moments and shear stresses can be of much
larger magnitude than the steer torques, so cross talk is a major concern.
These graphs also show that it if no loads are placed on the handlebars the
entire portion of the steer tube/stem above the headset has no bending moments
and no shear stress. This is the ideal place for a torque sensor, if we can
eliminate the transfer of forces applied to the handlebars to the steer tube.</p>
<p>This leads us to a design idea that isolates the steer torque sensor from the
handlebar and fork forces. The basic design idea is sketched below. It includes
a separate &#8220;headset&#8221; for the handlebars that take up any handlebar forces. The
handlebar is connected to the steer torque sensor via a zero backlash universal
joint so no moments can be transferred to the sensor. The steer motor will need
to be mounted above the u-joint so torques from the rider or the motor can be
measured. We are looking at a <a class="reference external" href="http://www.futek.com/">Futek</a> Reaction Torque
sensor that has a max torque of either <a class="reference external" href="http://www.futek.com/product.aspx?stock=FSH02594">6 Nm</a> or <a class="reference external" href="http://www.futek.com/product.aspx?stock=FSH02595">12 Nm</a> but are unsure what the
best range and accuracy for these measurements are since there seems to be no
public data from bicycle steer torque measurements.</p>
<div class="admonition-todo admonition" id="index-18">
<p class="first admonition-title">Todo</p>
<p class="last">Torque Measurement Design</p>
</div>
</div>
<div class="section" id="torque-wrench-experiments">
<h4>Torque Wrench Experiments<a class="headerlink" href="#torque-wrench-experiments" title="Permalink to this headline">¶</a></h4>
<p>Following Cheng&#8217;s lead, we decided to do some experiments with a accurate
torque wrench to see get an idea of maximum torques. We made a little
attachment to the steer tube that allowed easy connection of various torque
wrenches. A helmet camera was mounted such that it could view the torque
wrench, handlebars and speedometer relative to the bicycle frame. The torque
wrench had a range from 0 to 8.5 Nm and a +/- 2% accuracy of full scale (+/-
0.17 Nm). The speed was maintained by an electric hub motor (i.e. no pedaling).</p>
<div class="admonition-todo admonition" id="index-19">
<p class="first admonition-title">Todo</p>
<p class="last">Torque wrench mount</p>
</div>
<div class="admonition-todo admonition" id="index-20">
<p class="first admonition-title">Todo</p>
<p class="last">Torque wrench face</p>
</div>
<div class="admonition-todo admonition" id="index-21">
<p class="first admonition-title">Todo</p>
<p class="last">Torque camera</p>
</div>
<p>The <cite>data file</cite> includes the run
number that corresponds to the video number, the rider&#8217;s estimate of the speed
after the run in miles per hour, the maximum reading from the torque needle
after the run in inch-lbs, the rider&#8217;s name, the maneuver, the minimum speed
seen on the video footage in miles per hour, the maximum speed seen on the
video footage in miles per hour, the maximum torque seen on the video footage
in inch-lbs, the minimum torque seen on the video footage in newton-meters, and
the rotation sense for each run (+ for clockwise [right turn] and - for counter
clockwise [left turn]) . There were seven different maneuvers: straight into
tracking a half circle (radius = 6 meters and 10 meters), tracking a straight
line, straight to a 2 meter lane change, slalom with 3 meter spacing, steady
circle tracking (radius = 5 and 10 meters). All of the videos and data can be
downloaded <a class="reference external" href="http://www.archive.org/details/BicycleSteerTorqueExperiment01">here</a> . The results
( <cite>R code</cite> ), are shown in the
following graphs:</p>
<div class="admonition-todo admonition" id="index-22">
<p class="first admonition-title">Todo</p>
<p class="last">torqueHist.png</p>
</div>
<div class="admonition-todo admonition" id="index-23">
<p class="first admonition-title">Todo</p>
<p class="last">torqueSpeed.png</p>
</div>
<div class="admonition-todo admonition" id="index-24">
<p class="first admonition-title">Todo</p>
<p class="last">Circle5.png</p>
</div>
<div class="admonition-todo admonition" id="index-25">
<p class="first admonition-title">Todo</p>
<p class="last">Circle10.png</p>
</div>
<div class="admonition-todo admonition" id="index-26">
<p class="first admonition-title">Todo</p>
<p class="last">HalfCircle6.png</p>
</div>
<div class="admonition-todo admonition" id="index-27">
<p class="first admonition-title">Todo</p>
<p class="last">HalfCircle10.png</p>
</div>
<div class="admonition-todo admonition" id="index-28">
<p class="first admonition-title">Todo</p>
<p class="last">LaneChange.png</p>
</div>
<div class="admonition-todo admonition" id="index-29">
<p class="first admonition-title">Todo</p>
<p class="last">LineTrack.png</p>
</div>
<div class="admonition-todo admonition" id="index-30">
<p class="first admonition-title">Todo</p>
<p class="last">Slalom.png</p>
</div>
<p>The primary goal was to determine the maximum torques we will see for the types
of maneuvers we are interested in. The histograms shows that we never recorded
any torques higher than 5 Nm. The following shows the max and min torque values
for different maneuvers:</p>
<p>ManeuverMax Torque</p>
<p>Min Torque</p>
<p>Steady Circle (r = 10m)</p>
<p>3.4</p>
<p>-2.4</p>
<p>Steady Circle (r = 5m)</p>
<p>2.4</p>
<p>-2.2</p>
<p>Half Circle (r = 10m)</p>
<p>3.8</p>
<p>-3.2</p>
<p>Half Circle (r = 6m)</p>
<p>3.4</p>
<p>-5.0</p>
<p>Lane Change (2m)</p>
<p>2.9</p>
<p>-2.6</p>
<p>Line Tracking</p>
<p>2.6</p>
<p>-3.4</p>
<p>Slalom</p>
<p>4.5</p>
<p>-4.8</p>
<p>There seems to be little to no speed dependency on the max and min torque values.</p>
</div>
<div class="section" id="final-steer-assembly-design">
<h4>Final Steer Assembly Design<a class="headerlink" href="#final-steer-assembly-design" title="Permalink to this headline">¶</a></h4>
<div class="admonition-todo admonition" id="index-31">
<p class="first admonition-title">Todo</p>
<p class="last">Final Steer Torque Measurement Design</p>
</div>
</div>
</div>
<div class="section" id="steer-dynamics">
<h3>Steer Dynamics<a class="headerlink" href="#steer-dynamics" title="Permalink to this headline">¶</a></h3>
<p>The final design was setup to eliminate measuring anything but the torque in
the steer tube along the steer axis, but this measured torque, <span class="math">\(T_M\)</span>,
does not equal the input torque typically used for out bicycle models, (i.e.
<span class="math">\(T_\delta\)</span>).  But there is a relationship from <span class="math">\(T_M\)</span> to
<span class="math">\(T_\delta\)</span> that requires one to know, at a minimum[#]_ the friction in
the lower and upper bearings (this is potentially both viscous and coulomb) and
the inertia of the handlebar/fork assembly above and below the torque sensor at
a minimum.</p>
<p>We measure the torque in the steering column, <span class="math">\(T_M\)</span>, from a sensor that
is mounted between both the handlebars and fork steer tube and two sets of
bearings: the headset and the slip clutch bearings. We are interested in
knowing the torque applied about the steer axis by the rider&#8217;s contact forces
to the handlebars, <span class="math">\(T_\delta\)</span>. It turns out that this is a function of
much of the data measured on the bicycle.</p>
<p>A free body diagram can be drawn of the upper portion of the handlebar/fork
assembly, where the lower portion is cut at the steer torque sensor. The
torques acting on the handlebar about the steer axis are the measured torque,
<span class="math">\(T_M\)</span>, the rider applied steer torque, <span class="math">\(T_\delta\)</span>, and the
friction from the upper bearing set which can be described by coulomb,
<span class="math">\(T_F\)</span>, and viscous friction, <span class="math">\(T_V\)</span>.</p>
<p>The coulomb friction can be described as a piecewise function:</p>
<div class="math" id="equation-coulomb">
<span class="eqno">(1)</span>\[\begin{split}T_F = F\operatorname{sgn}(\dot\delta) = \left\{
\begin{array}{rl}
  F &amp; \textrm{if $\dot{\delta}&gt;0$}\\
  0 &amp; \textrm{if $\dot{\delta}=0$}\\
  -F &amp; \textrm{if $\dot{\delta}&lt;0$}\\
\end{array}
\right.\end{split}\]</div>
<p>and viscous friction as a function linear in the steer rate:</p>
<div class="math" id="equation-viscous">
<span class="eqno">(2)</span>\[T_V = c\dot{\delta}\]</div>
<p>where <span class="math">\(F\)</span> is the coulomb friction force and <span class="math">\(c\)</span> is the viscous
damping coefficient.</p>
<p>We measure the angular rate of the bicycle frame, <span class="math">\(B\)</span>, with three rate
gyros:</p>
<div class="math" id="equation-framerate">
<span class="eqno">(3)</span>\[^N\bar{\omega}^B = w_{b1}\hat{b}_1 + w_{b2}\hat{b}_2 + w_{b3}\hat{b}_3\]</div>
<p>The handlebar, <span class="math">\(H\)</span>, is connected to the bicycle frame, <span class="math">\(B\)</span>, by a
revolute joint that rotates through the steering angle, <span class="math">\(\delta\)</span>, and we
measure the angular rate of the handlebar about the steer axis directly with a
rate gyro. The angular rate of the handlebar can be written as follows:</p>
<div class="math" id="equation-handlebarrate">
<span class="eqno">(4)</span>\[^N\bar{\omega}^H = (w_{b1}\cos(\delta) + w_{b2}\sin(\delta))\hat{h}_1
+ (-w_{b1}\sin(\delta) + w_{b2}\cos(\delta))\hat{h}_2 + w_{h3}\hat{h}_3\]</div>
<p>The steer rate, <span class="math">\(\dot{\delta}\)</span>, can be computed by subtracting the
angular rate of the bicycle frame about the steer axis from the angular rate of
the handlebar/fork about the steer axis.</p>
<div class="math" id="equation-steerrate">
<span class="eqno">(5)</span>\[\dot{\delta} = w_{h3} - w_{b3}\]</div>
<p>We measure the acceleration of a point, <span class="math">\(v\)</span>, on the bicycle frame.</p>
<div class="math" id="equation-accelerationOfV">
<span class="eqno">(6)</span>\[^N\bar{a}^v = a_{v1}\hat{b}_1 + a_{v2}\hat{b}_2 + a_{v3}\hat{b}_3\]</div>
<p>We also know the location of a point on the steer axis, <span class="math">\(s\)</span>, relative to point
<span class="math">\(v\)</span>.</p>
<div class="math" id="equation-locationOfV">
<span class="eqno">(7)</span>\[\bar{r}^{s/v} = d_{s1}\hat{b}_1 + d_{s3}\hat{b}_3\]</div>
<p>The location of the center of mass of the handlebar, <span class="math">\(h_o\)</span>, is also known
relative to point <span class="math">\(s\)</span>.</p>
<div class="math" id="equation-locationOfHo">
<span class="eqno">(8)</span>\[\bar{r}^{h_o/s} = d\hat{h}_1\]</div>
<p><span class="math">\(^N\bar{a}^{h_o}\)</span> can be calculated using the two point thereom for
acceleration [Kane1985] twice staring at the point <span class="math">\(v\)</span>:</p>
<div class="math">
\[^N\bar{a}^s = ^N\bar{a}^v + ^N\dot{\bar{\omega}}^B\times\bar{r}^{s/v} +
^N\bar{\omega}^B\times(^N\bar{\omega}^B\times\bar{r}^{s/v})\]</div>
<div class="math">
\[^N\bar{a}^{h_o} = ^N\bar{a}^s + ^N\dot{\bar{\omega}}^H\times\bar{r}^{h_o/s} +
^N\bar{\omega}^H\times(^N\bar{\omega}^H\times\bar{r}^{h_o/s})\]</div>
<p>The angular momentum of the handlebar about its center of mass is:</p>
<div class="math">
\[^N\bar{H}^{H/h_o} = I^{H/h_o} \cdot ^N\bar{\omega}^H\]</div>
<p>where <span class="math">\(I^{H/h_o}\)</span> is the inertia dyadic with reference to the center of mass
which exhibits symmetry about the <span class="math">\(13\)</span>-plane.</p>
<p>The dynamic equations of motion of the handlebar can be written as the sum of
the torques on the handlebar about point <span class="math">\(s\)</span> is equal to the derivative
of the angular momentum of <span class="math">\(H\)</span> in <span class="math">\(N\)</span> about <span class="math">\(h_o\)</span> plus the
cross product of the vector from <span class="math">\(s\)</span> to <span class="math">\(h_o\)</span> with the mass times
the acceleration of <span class="math">\(h_o\)</span> in <span class="math">\(N\)</span>:</p>
<div class="math">
\[\sum \bar{T}^{H/s} = ^N\dot{\bar{H}}^{H/h_o} + \bar{r}^{h_o/s} \times m_H
\ ^N\bar{a}^{ho}\]</div>
<p>The only torques applied to the handlebar that we are interested in act about the steer axis.</p>
<div class="math">
\[\sum T^{H/s}_3 = T_\delta - T_F - T_M - T_V\]</div>
<p>Looking at only the 3 component of the equation of motion gives the following
relationship:</p>
<div class="math">
\[T_\delta - F\operatorname{sgn}({\dot{\delta}}) - T_M - c(w_{h3} - w_{b3}) = (^N\dot{\bar{H}}^{H/h_o} + ^s\bar{r}^h_o \times m_H
\ ^N\bar{a}^s) \cdot \hat{h}_3\]</div>
<p>And <span class="math">\(T_\delta\)</span> can be solved for:</p>
<div class="math">
\[\begin{split}\begin{align}
T_{\delta} = &amp;
I_{H33} \dot{w}_{h3} + \\\notag
&amp; (I_{H11} (w_{b1}\cos(\delta) +
w_{b2}\sin(\delta)) +
I_{H31} w_{h3}) (-w_{b1}\sin(\delta) +
w_{b2}\cos(\delta)) + \\\notag
&amp; I_{H22} (- w_{b1} \sin(\delta) +
w_{b2}\cos(\delta))
(w_{b1}\cos(\delta) +
w_{b2}\sin(\delta)) + \\\notag
&amp; I_{H31} (- (- w_{b3} + w_{h3}) w_{b1}
\sin(\delta) +
(-w_{b3} + w_{h3})
w_{b2}\cos(\delta) +
\sin(\delta)\dot{w}_{b2} +
\cos(\delta)\dot{w}_{b1}) +\\\notag
&amp; d m_H (d (-w_{b1}\sin(\delta) + w_{b2}
\cos(\delta))(w_{b1}\cos(\delta) +
w_{b2}\sin(\delta)) +
d \dot{w}_{h3}) - \\\notag
&amp; d m_H (- d_{s1} w_{b2}^{2} + d_{s2}
\dot{w}_{b2} - (d_{s1}
w_{b3} - d_{s2}
w_{b1}) w_{b3} +
a_{v1})
\sin(\delta) +\\\notag
&amp; d m_H(d_{s1} w_{b1}w_{b2} +
d_{s1} \dot{w}_{b3} +
d_{s2} w_{b2} w_{b3} - d_{s2} \dot{w}_{b1} +
a_{v2})\cos(\delta) - \\\notag
&amp; c (- w_{b3} + w_{h3}) + T_F + T_s
\end{align}\end{split}\]</div>
<div class="section" id="experiments">
<h4>Experiments<a class="headerlink" href="#experiments" title="Permalink to this headline">¶</a></h4>
<p>The first thing we did was to try to characterize the friction in the bearings.
We did this by mounting the bicycle frame such that the steer axis was
vertical, the wheel was off the ground, and the bicycle frame was made very
rigid. Secondly, we attached two springs to the handlebars such that the force
from the springs acted on a lever arm relative to the steer axis. This allowed
us to perturb the handlebars and let the vibrations damp out. We recorded data
from the steer potentiometer, steer rate gyro and the torque sensor during
these perturbations. For now, we simply used the steer angle signals to
estimate both the viscous and coulomb friction from the two bearing sets.</p>
</div>
</div>
</div>
<div class="section" id="rates-and-accelerations">
<h2>Rates and accelerations<a class="headerlink" href="#rates-and-accelerations" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="lateral-force">
<h2>Lateral Force<a class="headerlink" href="#lateral-force" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="rider-rigidification">
<h2>Rider rigidification<a class="headerlink" href="#rider-rigidification" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wiring-diagram">
<h2>Wiring diagram<a class="headerlink" href="#wiring-diagram" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="data-aquisition">
<h2>Data aquisition<a class="headerlink" href="#data-aquisition" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="time-sychronization">
<h2>Time sychronization<a class="headerlink" href="#time-sychronization" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="roll-angle-trailer">
<h2>Roll angle trailer<a class="headerlink" href="#roll-angle-trailer" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="daq-software">
<h2>DAQ Software<a class="headerlink" href="#daq-software" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>The elasticity of the steer column may also be a factor.</td></tr>
</tbody>
</table>
</div>
</div>


<!--
<script type="text/javascript">
	var disqus_developer = 1;
</script>
-->
<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /**
    * var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread] 
    */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://jkm-dissertation.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a
		href="http://disqus.com/?ref_noscript=jkm-dissertation">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="motioncapture.html">Motion Capture</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="control.html">Control</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer">
        &copy; Copyright 2011, Jason K. Moore.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
<script type="text/javascript">
var disqus_shortname = 'jkm-dissertation';
(function () {
  var s = document.createElement('script'); s.async = true;
  s.src = 'http://disqus.com/forums/jkm-dissertation/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

  </body>
</html>